<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="style.css">
<title>Web developer test</title>
</head>
<body>
            <div id="column_right">
                <img id="test" src="images/image_summer.png" alt="test"> 
            </div>
                <div id="column_left">
                
                        <div class=navbar>
                                <img id="mobile" src="images/logo_pineapple.svg">
                                <img id="pine" src="images/logo_pineapple.png">
                                <div class="topnav-right">
                                    <a href="#" id="link">About</a>
                                    <a href="#" class="link">How it works</a>
                                    <a href="#" class="link">Contact</a>
                                </div>
                        </div>
                        <div class="cont">
                            <div class="h1">Subscribe to newsletter</div>
                            <div class="p">Subscribe to our newsletter and get 10% discount on pineapple glasses.</div>
                            <form id="form">
                                <div id="input_container">
                                    <input onkeyup="validation()" id="epasts" type="text"  name="epasts" class="inputField" placeholder="Type your email address hereâ€¦">
                                    <span id="msg"></span>
                                    <button type="submit" id="poga"></button>
                                </div>
                                <div id="tos">
                                    <input type="checkbox" id="chec" class="check" onclick="myFunction()">
                                    <div id="agree">I agree to <span id="terms">terms of service</span></div>
                                </div>
                            </form>
                            <hr>
                            <div id="soc">
                                <div class="fb" ></div>
                                <div class="ig" ></div>
                                <div class="tw" ></div>
                                <div class="yt" ></div>
                            </div>
                        </div>    
                    </div>
    <script type="text/javascript">
        
        var checkBox = document.getElementById("chec");
        var email = document.getElementById("epasts");
        function validation()
        {
            var form = document.getElementById("form");
            
            var form = document.getElementById("msg");
            var pattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;

            if(email.value.match(pattern))
            {
                    form.classList.add("valid");
                    form.classList.remove("invalid");
                    msg.innerHTML="";
                    
                    if(checkBox.checked==false){
                    msg.innerHTML="You must accept the terms and conditions";
                    msg.style.color="#ff0000"
                    document.getElementById("poga").disabled = true;
                    }
                    
            }
            else
            {
                form.classList.remove("valid");
                form.classList.add("invalid");
                msg.innerHTML="Please provide a valid e-mail address";
                msg.style.color="#ff0000"
            }
            if (email.value.slice(-2)=="co") {
                        msg.innerHTML="We are not accepting subscriptions from Colombia emails";
                        msg.style.color="#ff0000"  
            }
            if(email.value==0)
            {
                msg.innerHTML="Email address is required";
                msg.style.color="#ff0000"
                
            } 
        }
        function myFunction() {
            
            if (checkBox.checked == true){ 
                
                msg.innerHTML="";
                document.getElementById("poga").disabled = false;
                if(email.value.length == 0)
                {
                    msg.innerHTML="Email address is required";
                    msg.style.color="#ff0000"
                    document.getElementById("poga").disabled = true;
                }
            }
            else
            {
                msg.innerHTML="You must accept the terms and conditions";
                msg.style.color="#ff0000"
                document.getElementById("poga").disabled = true;
            }
        }
    </script>
</body>
</html>